<!doctype html>
<html>
    <head>
        <script>
            chrome.extension.onRequest.addListener(
                function(request, sender, sendResponse) {
                    if (request.setIconPath) {
                        chrome.tabs.getSelected(null, function(tab) {
                            chrome.pageAction.setIcon({
                                "tabId": tab.id,
                                "path": request.setIconPath
                            });
                            chrome.pageAction.show(tab.id);
                        });
                    }
                }
            );
        </script>
    </head>
    <body>
    </body>
</html>
